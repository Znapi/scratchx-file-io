//Expanded:znapi.github.io/scratchx/file-io/main.js
!function(t){function e(t,e,i,o){function r(t,e,n,i,o){var r=new XMLHttpRequest;r.onreadystatechange=function(){4===r.readyState&&("yes"==r.getResponseHeader("X-Is-ScratchX-File-IO-Helper-App")?i(r.responseText):o())},r.open(t,"http://localhost:8080/"+e,!0),void 0!==n?r.send(n):r.send()}var s;r(t,e,o,i,function(){n=!1,s=window.setInterval(r,5e3,t,e,o,function(t){window.clearInterval(s),n=!0,i(t)},function(){})})}t.read=function(t,n){e("GET",t,n)},t.write=function(t,n,i){e("PUT",n,i,t)},t.make=function(t,n){e("POST",t,n)};var n=!1;t._shutdown=function(){},t._getStatus=function(){return n?{status:2,msg:"Ready"}:{status:1,msg:"Waiting for Helper App"}},ScratchExtensions.register("Simple File I/O",{blocks:[["R","read from file %s","read","text.txt"],["w","write %s to file %s","write","hello world","text.txt"],["w","create file %s","make","text.txt"]],url:"https://github.com/Znapi/scratchx/wiki/Simple-File-I-O"},t),e("OPTIONS","",function(){n=!0})}({});
